{
  "metadata": {
    "generated": "2025-12-18",
    "package": "ibind",
    "python_version": "3.13.7",
    "total_mixins": 5,
    "analysis_type": "data_retrieval_methods",
    "description": "Comprehensive JSON reference of IBKR client mixin data retrieval methods"
  },
  "mixins": {
    "AccountsMixin": {
      "name": "AccountsMixin",
      "purpose": "Account and credential management",
      "methods": [
        {
          "name": "receive_brokerage_accounts",
          "signature": "(self: 'IbkrClient') -> Result",
          "description": "Returns a list of accounts the user has trading access to, their respective aliases, and the currently selected account.",
          "required_first": true,
          "parameters": [],
          "returns": "Result",
          "use_case": "Get list of available trading accounts"
        },
        {
          "name": "account_summary",
          "signature": "(self: 'IbkrClient', account_id: str = None) -> Result",
          "description": "Returns a summary of the account's information.",
          "parameters": [
            {"name": "account_id", "type": "str", "optional": true, "description": "The account identifier. If not provided, the active account is used."}
          ],
          "returns": "Result",
          "use_case": "Get account-level information"
        },
        {
          "name": "search_dynamic_account",
          "signature": "(self: 'IbkrClient', search_pattern: str) -> Result",
          "description": "Searches for broker accounts configured with the DYNACCT property using a specified pattern.",
          "parameters": [
            {"name": "search_pattern", "type": "str", "optional": false, "description": "Pattern like 'DU' for paper accounts"}
          ],
          "returns": "Result",
          "use_case": "Search FA/tiered account structures"
        },
        {
          "name": "account_profit_and_loss",
          "signature": "(self: 'IbkrClient') -> Result",
          "description": "Returns an object containing PnL for the selected account and its models (if any).",
          "parameters": [],
          "returns": "Result",
          "use_case": "Get account profit/loss"
        }
      ]
    },
    "ContractMixin": {
      "name": "ContractMixin",
      "purpose": "Contract/instrument search and lookup",
      "methods": [
        {
          "name": "search_contract_by_symbol",
          "signature": "(self: 'IbkrClient', symbol: str, name: bool = None, sec_type: str = None) -> Result",
          "description": "Search by underlying symbol or company name. Must be called before using secdef/info endpoint.",
          "required_first": true,
          "parameters": [
            {"name": "symbol", "type": "str", "optional": false, "description": "Ticker symbol or company name"},
            {"name": "name", "type": "bool", "optional": true, "description": "If True, treat symbol as company name"},
            {"name": "sec_type", "type": "str", "optional": true, "description": "Security type: STK, IND, BOND"}
          ],
          "returns": "Result",
          "use_case": "Primary entry point for contract searches"
        },
        {
          "name": "search_secdef_info_by_conid",
          "signature": "(self: 'IbkrClient', conid: str, sec_type: str, month: str, exchange: str = None, strike: str = None, right: str = None, issuer_id: str = None) -> Result",
          "description": "Provides Contract Details of Futures, Options, Warrants, Cash and CFDs based on conid.",
          "parameters": [
            {"name": "conid", "type": "str", "optional": false, "description": "Contract identifier of the underlying"},
            {"name": "sec_type", "type": "str", "optional": false, "description": "Security type"},
            {"name": "month", "type": "str", "optional": false, "description": "Expiration month for derivatives"},
            {"name": "exchange", "type": "str", "optional": true, "description": "Specific exchange"},
            {"name": "strike", "type": "str", "optional": true, "description": "Strike price for options/futures options"},
            {"name": "right", "type": "str", "optional": true, "description": "C for Call, P for Put"},
            {"name": "issuer_id", "type": "str", "optional": true, "description": "Bond issuer ID"}
          ],
          "returns": "Result",
          "use_case": "Get detailed derivative specifications"
        },
        {
          "name": "search_strikes_by_conid",
          "signature": "(self: 'IbkrClient', conid: str, sec_type: str, month: str, exchange: str = None) -> Result",
          "description": "Query to receive a list of potential strikes supported for a given underlying.",
          "parameters": [
            {"name": "conid", "type": "str", "optional": false, "description": "Contract Identifier number"},
            {"name": "sec_type", "type": "str", "optional": false, "description": "OPT or WAR"},
            {"name": "month", "type": "str", "optional": false, "description": "Format: AUG23"},
            {"name": "exchange", "type": "str", "optional": true, "description": "Defaults to SMART"}
          ],
          "returns": "Result",
          "use_case": "Find available option/warrant strikes"
        },
        {
          "name": "search_contract_rules",
          "signature": "(self: 'IbkrClient', conid: str, exchange: str = None, is_buy: bool = None, modify_order: bool = None, order_id: int = None) -> Result",
          "description": "Returns trading related rules for a specific contract and side.",
          "parameters": [
            {"name": "conid", "type": "str", "optional": false, "description": "Contract identifier"},
            {"name": "exchange", "type": "str", "optional": true, "description": "Specific exchange"},
            {"name": "is_buy", "type": "bool", "optional": true, "description": "True for Buy, False for Sell"},
            {"name": "modify_order", "type": "bool", "optional": true, "description": "For existing order rules"},
            {"name": "order_id", "type": "int", "optional": true, "description": "Required if modify_order=true"}
          ],
          "returns": "Result",
          "use_case": "Get trading constraints before placing orders"
        },
        {
          "name": "search_bond_filter_information",
          "signature": "(self: 'IbkrClient', symbol: str, issuer_id: str) -> Result",
          "description": "Request a list of filters relating to a given Bond issuerID.",
          "parameters": [
            {"name": "symbol", "type": "str", "optional": false, "description": "Should always be BOND"},
            {"name": "issuer_id", "type": "str", "optional": false, "description": "Bond issuer ID"}
          ],
          "returns": "Result",
          "use_case": "Bond-specific contract lookups"
        }
      ]
    },
    "MarketdataMixin": {
      "name": "MarketdataMixin",
      "purpose": "Live and historical market data retrieval",
      "methods": [
        {
          "name": "live_marketdata_snapshot",
          "signature": "(self: 'IbkrClient', conids: Union[str, List[str]], fields: Union[str, List[str]]) -> Result",
          "description": "Get current market data for the given contract ID(s).",
          "parameters": [
            {"name": "conids", "type": "Union[str, List[str]]", "optional": false, "description": "Contract ID(s)"},
            {"name": "fields", "type": "Union[str, List[str]]", "optional": false, "description": "Field IDs (e.g., 31 for Last Price)"}
          ],
          "returns": "Result",
          "use_case": "Get live price quotes"
        },
        {
          "name": "live_marketdata_snapshot_by_symbol",
          "signature": "(self: 'IbkrClient', queries: Union[StockQuery, str, List], fields: Union[str, List[str]]) -> dict",
          "description": "Get market data for the given symbol(s). Returns dict directly.",
          "parameters": [
            {"name": "queries", "type": "Union[StockQuery, str, List]", "optional": false, "description": "Symbol(s) or StockQuery objects"},
            {"name": "fields", "type": "Union[str, List[str]]", "optional": false, "description": "Field IDs"}
          ],
          "returns": "dict",
          "use_case": "Get live prices by symbol"
        },
        {
          "name": "marketdata_history_by_conid",
          "signature": "(self: 'IbkrClient', conid: str, bar: str, exchange: str = None, period: str = None, outside_rth: bool = None, start_time: datetime = None) -> Result",
          "description": "Get historical OHLC data for a given contract ID.",
          "parameters": [
            {"name": "conid", "type": "str", "optional": false, "description": "Contract identifier"},
            {"name": "bar", "type": "str", "optional": false, "description": "Bar size (e.g., 1min, 5min, 1h, 1d)"},
            {"name": "exchange", "type": "str", "optional": true, "description": "Specific exchange"},
            {"name": "period", "type": "str", "optional": true, "description": "Data duration (e.g., 1d, 1w, 1m)"},
            {"name": "outside_rth", "type": "bool", "optional": true, "description": "Include after-hours trades"},
            {"name": "start_time", "type": "datetime", "optional": true, "description": "UTC start time"}
          ],
          "returns": "Result",
          "use_case": "Get historical price data for analysis"
        },
        {
          "name": "marketdata_history_by_symbol",
          "signature": "(self: 'IbkrClient', symbol: Union[str, StockQuery], bar: str, exchange: str = None, period: str = None, outside_rth: bool = None, start_time: datetime = None) -> Result",
          "description": "Get historical data by symbol instead of conid.",
          "parameters": [
            {"name": "symbol", "type": "Union[str, StockQuery]", "optional": false, "description": "Ticker symbol or StockQuery"},
            {"name": "bar", "type": "str", "optional": false, "description": "Bar size"},
            {"name": "exchange", "type": "str", "optional": true, "description": "Specific exchange"},
            {"name": "period", "type": "str", "optional": true, "description": "Data duration"},
            {"name": "outside_rth", "type": "bool", "optional": true, "description": "Include after-hours"},
            {"name": "start_time", "type": "datetime", "optional": true, "description": "UTC start time"}
          ],
          "returns": "Result",
          "use_case": "Get historical data by symbol"
        },
        {
          "name": "marketdata_history_by_conids",
          "signature": "(self: 'IbkrClient', conids: Union[List[str], Dict], period: str = '1min', bar: str = '1min', outside_rth: bool = True, start_time: datetime = None, raise_on_error: bool = False, run_in_parallel: bool = True) -> dict",
          "description": "Batch historical data retrieval for multiple conids. Parallel by default.",
          "parameters": [
            {"name": "conids", "type": "Union[List[str], Dict]", "optional": false, "description": "Contract IDs"},
            {"name": "period", "type": "str", "optional": true, "description": "Default: 1min"},
            {"name": "bar", "type": "str", "optional": true, "description": "Default: 1min"},
            {"name": "outside_rth", "type": "bool", "optional": true, "description": "Default: True"},
            {"name": "start_time", "type": "datetime", "optional": true, "description": "UTC start time"},
            {"name": "raise_on_error", "type": "bool", "optional": true, "description": "Default: False"},
            {"name": "run_in_parallel", "type": "bool", "optional": true, "description": "Default: True"}
          ],
          "returns": "dict",
          "use_case": "Efficient batch historical data retrieval"
        },
        {
          "name": "marketdata_history_by_symbols",
          "signature": "(self: 'IbkrClient', queries: Union[StockQuery, str, List], period: str = '1min', bar: str = '1min', outside_rth: bool = True, start_time: datetime = None, raise_on_error: bool = False, run_in_parallel: bool = True) -> dict",
          "description": "Batch historical data by symbols. Parallel by default.",
          "parameters": [
            {"name": "queries", "type": "Union[StockQuery, str, List]", "optional": false, "description": "Symbols or StockQuery objects"},
            {"name": "period", "type": "str", "optional": true, "description": "Default: 1min"},
            {"name": "bar", "type": "str", "optional": true, "description": "Default: 1min"},
            {"name": "outside_rth", "type": "bool", "optional": true, "description": "Default: True"},
            {"name": "start_time", "type": "datetime", "optional": true, "description": "UTC start time"},
            {"name": "raise_on_error", "type": "bool", "optional": true, "description": "Default: False"},
            {"name": "run_in_parallel", "type": "bool", "optional": true, "description": "Default: True"}
          ],
          "returns": "dict",
          "use_case": "Batch historical data by symbol list"
        },
        {
          "name": "historical_marketdata_beta",
          "signature": "(self: 'IbkrClient', conid: str, period: str, bar: str, outside_rth: bool = None, start_time: datetime = None, direction: str = None, bar_type: str = None) -> Result",
          "description": "Beta endpoint for historical data via direct market data farm connection.",
          "parameters": [
            {"name": "conid", "type": "str", "optional": false, "description": "Contract identifier"},
            {"name": "period", "type": "str", "optional": false, "description": "Duration"},
            {"name": "bar", "type": "str", "optional": false, "description": "Bar size"},
            {"name": "outside_rth", "type": "bool", "optional": true, "description": "Include after-hours"},
            {"name": "start_time", "type": "datetime", "optional": true, "description": "UTC start time"},
            {"name": "direction", "type": "str", "optional": true, "description": "Forward/backward"},
            {"name": "bar_type", "type": "str", "optional": true, "description": "TRADES, MIDPOINT, etc."}
          ],
          "returns": "Result",
          "use_case": "Advanced/experimental historical data"
        },
        {
          "name": "regulatory_snapshot",
          "signature": "(self: 'IbkrClient', conid: str) -> Result",
          "description": "Request regulatory snapshot. WARNING: Costs $0.01 per call.",
          "cost_warning": "$0.01 USD per call (live and paper accounts)",
          "parameters": [
            {"name": "conid", "type": "str", "optional": false, "description": "Contract identifier"}
          ],
          "returns": "Result",
          "use_case": "Specialized regulatory data"
        },
        {
          "name": "marketdata_unsubscribe",
          "signature": "(self: 'IbkrClient', conids: Union[str, List[str]]) -> List[Result]",
          "description": "Cancel market data subscription for specific contract IDs.",
          "parameters": [
            {"name": "conids", "type": "Union[str, List[str]]", "optional": false, "description": "Contract ID(s) to unsubscribe"}
          ],
          "returns": "List[Result]",
          "use_case": "Clean up specific subscriptions"
        },
        {
          "name": "marketdata_unsubscribe_all",
          "signature": "(self: 'IbkrClient') -> Result",
          "description": "Cancel all outstanding market data subscriptions.",
          "parameters": [],
          "returns": "Result",
          "use_case": "Bulk cleanup of all subscriptions"
        }
      ]
    },
    "PortfolioMixin": {
      "name": "PortfolioMixin",
      "purpose": "Portfolio positions, performance, and account information",
      "prerequisite": "Call portfolio_accounts() or portfolio_subaccounts() first",
      "methods": [
        {
          "name": "portfolio_accounts",
          "signature": "(self: 'IbkrClient') -> Result",
          "description": "Get list of accessible accounts. MUST be called before other portfolio endpoints.",
          "required_first": true,
          "parameters": [],
          "returns": "Result",
          "use_case": "Initialization - get account list"
        },
        {
          "name": "portfolio_subaccounts",
          "signature": "(self: 'IbkrClient') -> Result",
          "description": "Get sub-accounts for tiered structures (max 100). MUST be called before other portfolio endpoints.",
          "required_first": true,
          "parameters": [],
          "returns": "Result",
          "use_case": "Get FA/tiered account sub-accounts"
        },
        {
          "name": "large_portfolio_subaccounts",
          "signature": "(self: 'IbkrClient', page: int = 0) -> Result",
          "description": "Paginated sub-accounts (20 per page) for large FA accounts.",
          "parameters": [
            {"name": "page", "type": "int", "optional": true, "description": "Page number (0-indexed)"}
          ],
          "returns": "Result",
          "use_case": "Get sub-accounts for large FA accounts"
        },
        {
          "name": "portfolio_account_information",
          "signature": "(self: 'IbkrClient', account_id: str = None) -> Result",
          "description": "Get account-level portfolio information.",
          "parameters": [
            {"name": "account_id", "type": "str", "optional": true, "description": "Account ID (uses default if not specified)"}
          ],
          "returns": "Result",
          "use_case": "Get account metadata"
        },
        {
          "name": "positions",
          "signature": "(self: 'IbkrClient', account_id: str = None, page: int = 0, model: str = None, sort: str = None, direction: str = None, period: str = None) -> Result",
          "description": "Get paginated positions (max 100 per page). Uses caching.",
          "parameters": [
            {"name": "account_id", "type": "str", "optional": true, "description": "Account ID"},
            {"name": "page", "type": "int", "optional": true, "description": "Page number (0-indexed)"},
            {"name": "model", "type": "str", "optional": true, "description": "Model portfolio code"},
            {"name": "sort", "type": "str", "optional": true, "description": "Sort column"},
            {"name": "direction", "type": "str", "optional": true, "description": "asc or desc"},
            {"name": "period", "type": "str", "optional": true, "description": "1D, 7D, 1M for pnl"}
          ],
          "returns": "Result",
          "use_case": "Get paginated portfolio holdings"
        },
        {
          "name": "positions2",
          "signature": "(self: 'IbkrClient', account_id: str = None, model: str = None, sort: str = None, direction: str = None) -> Result",
          "description": "Get all positions without paging. Real-time, no caching.",
          "parameters": [
            {"name": "account_id", "type": "str", "optional": true, "description": "Account ID"},
            {"name": "model", "type": "str", "optional": true, "description": "Model portfolio code"},
            {"name": "sort", "type": "str", "optional": true, "description": "Sort column"},
            {"name": "direction", "type": "str", "optional": true, "description": "asc or desc"}
          ],
          "returns": "Result",
          "use_case": "Get real-time positions (preferred for small portfolios)"
        },
        {
          "name": "positions_by_conid",
          "signature": "(self: 'IbkrClient', account_id: str, conid: str) -> Result",
          "description": "Get position for a specific contract only.",
          "parameters": [
            {"name": "account_id", "type": "str", "optional": false, "description": "Account ID (required)"},
            {"name": "conid", "type": "str", "optional": false, "description": "Contract ID"}
          ],
          "returns": "Result",
          "use_case": "Quick position lookup for specific security"
        },
        {
          "name": "position_and_contract_info",
          "signature": "(self: 'IbkrClient', conid: str) -> Result",
          "description": "Get position AND contract details combined.",
          "parameters": [
            {"name": "conid", "type": "str", "optional": false, "description": "Contract ID"}
          ],
          "returns": "Result",
          "use_case": "Get position plus contract metadata in one call"
        },
        {
          "name": "combination_positions",
          "signature": "(self: 'IbkrClient', account_id: str = None, no_cache: bool = False) -> Result",
          "description": "Get multi-leg combination positions with ratios and market values.",
          "parameters": [
            {"name": "account_id", "type": "str", "optional": true, "description": "Account ID"},
            {"name": "no_cache", "type": "bool", "optional": true, "description": "Bypass cache"}
          ],
          "returns": "Result",
          "use_case": "Analyze complex multi-leg positions"
        },
        {
          "name": "portfolio_summary",
          "signature": "(self: 'IbkrClient', account_id: str = None) -> Result",
          "description": "Get portfolio summary with cash balances in base and other currencies.",
          "parameters": [
            {"name": "account_id", "type": "str", "optional": true, "description": "Account ID"}
          ],
          "returns": "Result",
          "use_case": "Get account summary and cash balances"
        },
        {
          "name": "get_ledger",
          "signature": "(self: 'IbkrClient', account_id: str = None) -> Result",
          "description": "Get ledger information (settled cash, currency balances).",
          "parameters": [
            {"name": "account_id", "type": "str", "optional": true, "description": "Account ID"}
          ],
          "returns": "Result",
          "use_case": "Get detailed cash and currency information"
        },
        {
          "name": "portfolio_account_allocation",
          "signature": "(self: 'IbkrClient', account_id: str = None) -> Result",
          "description": "Get allocation by Asset Class, Industry, and Category.",
          "parameters": [
            {"name": "account_id", "type": "str", "optional": true, "description": "Account ID"}
          ],
          "returns": "Result",
          "use_case": "Analyze portfolio diversification"
        },
        {
          "name": "portfolio_account_allocations",
          "signature": "(self: 'IbkrClient', account_ids: Union[str, List[str]]) -> Result",
          "description": "Get consolidated allocation for multiple accounts.",
          "parameters": [
            {"name": "account_ids", "type": "Union[str, List[str]]", "optional": false, "description": "Account ID(s)"}
          ],
          "returns": "Result",
          "use_case": "Multi-account allocation analysis"
        },
        {
          "name": "account_performance",
          "signature": "(self: 'IbkrClient', account_ids: Union[str, List[str]], period: str) -> Result",
          "description": "Get Mark-to-Market performance. Consolidated if multiple accounts.",
          "parameters": [
            {"name": "account_ids", "type": "Union[str, List[str]]", "optional": false, "description": "Account ID(s)"},
            {"name": "period", "type": "str", "optional": false, "description": "1D, 7D, MTD, 1M, YTD, 1Y"}
          ],
          "returns": "Result",
          "use_case": "Track profitability over specific periods"
        },
        {
          "name": "all_periods",
          "signature": "(self: 'IbkrClient', account_ids: Union[str, List[str]]) -> Result",
          "description": "Get performance across all available periods. Consolidated if multiple accounts.",
          "parameters": [
            {"name": "account_ids", "type": "Union[str, List[str]]", "optional": false, "description": "Account ID(s)"}
          ],
          "returns": "Result",
          "use_case": "Comprehensive performance analysis"
        },
        {
          "name": "transaction_history",
          "signature": "(self: 'IbkrClient', account_ids: Union[str, List[str]], conids: Union[str, List[str]], currency: str, days: int = None) -> Result",
          "description": "Get transaction history (trades, dividends, transfers).",
          "parameters": [
            {"name": "account_ids", "type": "Union[str, List[str]]", "optional": false, "description": "Account ID(s)"},
            {"name": "conids", "type": "Union[str, List[str]]", "optional": false, "description": "Contract ID(s)"},
            {"name": "currency", "type": "str", "optional": false, "description": "Currency code (USD, EUR, etc.)"},
            {"name": "days", "type": "int", "optional": true, "description": "Number of days of history"}
          ],
          "returns": "Result",
          "use_case": "Generate trade history and activity reports"
        },
        {
          "name": "invalidate_backend_portfolio_cache",
          "signature": "(self: 'IbkrClient', account_id: str = None) -> Result",
          "description": "Invalidate cached portfolio data and force refresh.",
          "parameters": [
            {"name": "account_id", "type": "str", "optional": true, "description": "Account ID"}
          ],
          "returns": "Result",
          "use_case": "Force refresh of cached portfolio data"
        }
      ]
    },
    "WatchlistMixin": {
      "name": "WatchlistMixin",
      "purpose": "Watchlist management and monitoring",
      "methods": [
        {
          "name": "get_all_watchlists",
          "signature": "(self: 'IbkrClient', sc: str = 'USER_WATCHLIST') -> Result",
          "description": "Get list of all available watchlists.",
          "parameters": [
            {"name": "sc", "type": "str", "optional": true, "description": "Scope (default: USER_WATCHLIST)"}
          ],
          "returns": "Result",
          "use_case": "List all watchlists"
        },
        {
          "name": "get_watchlist_information",
          "signature": "(self: 'IbkrClient', id: str) -> Result",
          "description": "Get contracts listed in a specific watchlist.",
          "parameters": [
            {"name": "id", "type": "str", "optional": false, "description": "Watchlist ID"}
          ],
          "returns": "Result",
          "use_case": "Get watchlist contents"
        },
        {
          "name": "create_watchlist",
          "signature": "(self: 'IbkrClient', id: str, name: str, rows: List[Dict[str, Union[str, int]]]) -> Result",
          "description": "Create a new watchlist with contracts.",
          "parameters": [
            {"name": "id", "type": "str", "optional": false, "description": "Unique numeric identifier"},
            {"name": "name", "type": "str", "optional": false, "description": "Display name"},
            {"name": "rows", "type": "List[Dict]", "optional": false, "description": "Contracts. Each dict can have: C (conid) or H (blank row)"}
          ],
          "returns": "Result",
          "use_case": "Create custom watchlist"
        },
        {
          "name": "delete_watchlist",
          "signature": "(self: 'IbkrClient', id: str) -> Result",
          "description": "Permanently delete a watchlist.",
          "parameters": [
            {"name": "id", "type": "str", "optional": false, "description": "Watchlist ID to delete"}
          ],
          "returns": "Result",
          "use_case": "Remove watchlist"
        }
      ]
    }
  },
  "summary": {
    "AccountsMixin": 4,
    "ContractMixin": 5,
    "MarketdataMixin": 10,
    "PortfolioMixin": 17,
    "WatchlistMixin": 4,
    "total_methods": 40
  },
  "common_field_ids": {
    "31": {"name": "Last Price", "description": "Most recent trade price"},
    "66": {"name": "Bid Size", "description": "Number of shares at bid"},
    "68": {"name": "Ask Size", "description": "Number of shares at ask"},
    "69": {"name": "Bid Price", "description": "Current bid price"},
    "70": {"name": "Ask Price", "description": "Current ask price"},
    "84": {"name": "Mark Price", "description": "Fair value estimate"},
    "85": {"name": "Bid/Ask Change", "description": "Change from previous"},
    "86": {"name": "Mark Change", "description": "Mark price change"}
  }
}
